export const LOCALES = ["en", "pt-BR"] as const;

export type Locale = (typeof LOCALES)[number];

export const DEFAULT_LOCALE: Locale = "en";

export const COOKIE_NAME = "locale";

const messages: Record<Locale, Record<string, string>> = {
  en: {
    "nav.overview": "Overview",
    "nav.topTitles": "Top Titles",
    "nav.genres": "Genres",
    "nav.series": "Series & Episodes",
    "nav.language": "Language",
    "common.snapshot": "Snapshot · {value}",
    "common.updatedAt": "Updated at {value}",
    "common.refreshPending": "Refresh pending",
    "common.rating": "Rating",
    "common.votes": "Votes",
    "common.title": "Title",
    "common.type": "Type",
    "common.year": "Year",
    "common.genre": "Genre",
    "common.genres": "Genres",
    "common.series": "Series",
    "common.episode": "Episode",
    "common.season": "Season",
    "common.drop": "Drop",
    "common.latest": "Latest",
    "table.empty": "No data available.",
    "overview.hero.eyebrow": "Weekly pipeline - IMDb",
    "overview.hero.title": "Global cinephile radar",
    "overview.hero.subtitle": "Rankings, trends, and stats for films and series curated automatically every week.",
    "overview.hero.statLabel": "Top rating",
    "overview.hero.statFallbackTitle": "Featured title",
    "overview.hero.statMeta": "{votes} votes on IMDb",
    "overview.kpi.snapshot": "Snapshot",
    "overview.kpi.topTitles": "Top titles",
    "overview.kpi.genres": "Genres",
    "overview.kpi.rising": "Rising titles",
    "overview.section.snapshot.title": "Quick snapshot",
    "overview.section.snapshot.description": "Core KPIs to read the pulse of the filtered catalog.",
    "overview.section.top10.title": "Top 10 by rating",
    "overview.section.top10.eyebrow": "Ranking",
    "overview.section.top10.caption": "The leaders pair high ratings with consistent vote volume.",
    "overview.section.topGenres.title": "Highest rated genres",
    "overview.section.topGenres.caption": "Weighted averages reveal the styles with the strongest scores.",
    "overview.section.popularity.title": "Popularity by decade",
    "overview.section.popularity.eyebrow": "Trends",
    "overview.section.popularity.caption": "Most-voted genres keep leading audience cycles.",
    "overview.section.rising.title": "Rising titles",
    "overview.section.rising.eyebrow": "This week",
    "overview.table.plusVotes": "+ Votes",
    "overview.table.change": "Change %",
    "chart.weightedRating": "Weighted rating",
    "chart.avgRuntime": "Avg runtime",
    "chart.avgRating": "Avg rating",
    "chart.rating": "Rating",
    "topTitles.hero.eyebrow": "Rankings",
    "topTitles.hero.title": "Top IMDb titles",
    "topTitles.hero.subtitle": "The biggest standouts in movies and series, filtered by vote thresholds for consistency.",
    "topTitles.hero.statLabel": "Top score",
    "topTitles.hero.statFallbackTitle": "Featured title",
    "topTitles.hero.statMeta": "{votes} votes",
    "topTitles.section.top10.title": "Absolute top 10",
    "topTitles.section.top10.description": "Titles that sustain high ratings with strong vote volume.",
    "topTitles.section.top10.cardTitle": "Ranking by rating",
    "topTitles.section.top10.cardEyebrow": "All time",
    "topTitles.section.allTime.title": "All-time top titles",
    "topTitles.section.allTime.description": "Full list of the best eligible movies and series.",
    "topTitles.section.allTime.cardTitle": "Full list",
    "topTitles.section.allTime.cardEyebrow": "Movies and series",
    "topTitles.section.byDecade.title": "Top by decade",
    "topTitles.section.byDecade.description": "The best of each era, showing how audience taste shifts over time.",
    "topTitles.section.byDecade.cardEyebrow": "Decade",
    "topTitles.section.mainstream.title": "Mainstream vs Cult",
    "topTitles.section.mainstream.description": "High-vote standouts versus smaller-audience gems with strong ratings.",
    "topTitles.section.mainstream.mainTitle": "Mainstream gems",
    "topTitles.section.mainstream.mainEyebrow": "High votes",
    "topTitles.section.mainstream.cultTitle": "Cult gems",
    "topTitles.section.mainstream.cultEyebrow": "Lower votes",
    "genres.hero.eyebrow": "Genres",
    "genres.hero.title": "The genre landscape",
    "genres.hero.subtitle": "Weighted ratings, long-term popularity, and the link between runtime and score by genre.",
    "genres.hero.statLabel": "Leading genre",
    "genres.hero.statFallbackTitle": "Featured genre",
    "genres.hero.statMeta": "{votes} total votes",
    "genres.section.weighted.title": "Weighted rating by genre",
    "genres.section.weighted.eyebrow": "Quality",
    "genres.section.weighted.caption": "Genres with the best blend of rating and votes lead the list.",
    "genres.section.popularity.title": "Popularity by decade",
    "genres.section.popularity.eyebrow": "Votes",
    "genres.section.popularity.caption": "The most voted genres stay dominant across decades.",
    "genres.section.runtime.title": "Runtime vs rating",
    "genres.section.runtime.eyebrow": "Style",
    "genres.section.runtime.description": "Larger circles mean more titles in that genre.",
    "genres.section.runtime.caption": "The link between average runtime and rating reveals pacing preferences.",
    "genres.section.highlights.title": "Quick highlights",
    "genres.section.highlights.description": "Genres that stand out in rating, votes, and overall volume.",
    "genres.section.highlights.eyebrow": "Highlight",
    "genres.highlights.weighted": "Weighted rating",
    "genres.highlights.votes": "Total votes",
    "genres.highlights.titles": "Titles",
    "series.hero.eyebrow": "Series & episodes",
    "series.hero.title": "The pulse of series",
    "series.hero.subtitle": "Top-rated episodes, season performance, and the biggest quality drops.",
    "series.hero.statLabel": "Top episode",
    "series.hero.statFallbackTitle": "Featured episode",
    "series.hero.statFallbackSeries": "Featured series",
    "series.section.topEpisodes.title": "Top episodes",
    "series.section.topEpisodes.eyebrow": "Ranking",
    "series.section.topEpisodes.caption": "The most voted and highest rated episodes in the catalog.",
    "series.section.seasonRatings.title": "Ratings by season",
    "series.section.seasonRatings.eyebrow": "Leading series",
    "series.section.seasonRatings.caption": "Track the quality trajectory of the most voted series.",
    "series.section.qualityDrop.title": "Biggest quality drops",
    "series.section.qualityDrop.description": "Comparison between the first season and the most recent season.",
    "series.section.qualityDrop.cardTitle": "Quality drop",
    "series.section.qualityDrop.cardEyebrow": "Comparison",
    "series.section.topRated.title": "Top rated episodes",
    "series.section.topRated.description": "Full list to explore episodes with high ratings and strong vote counts.",
    "series.section.topRated.cardTitle": "Top episodes",
    "series.section.topRated.cardEyebrow": "Details",
    "footer.note": "IMDb Analytics. Aggregated public data from IMDb."
  },
  "pt-BR": {
    "nav.overview": "Visão geral",
    "nav.topTitles": "Top títulos",
    "nav.genres": "Gêneros",
    "nav.series": "Séries e episódios",
    "nav.language": "Idioma",
    "common.snapshot": "Snapshot · {value}",
    "common.updatedAt": "Atualizado em {value}",
    "common.refreshPending": "Atualização pendente",
    "common.rating": "Nota",
    "common.votes": "Votos",
    "common.title": "Título",
    "common.type": "Tipo",
    "common.year": "Ano",
    "common.genre": "Gênero",
    "common.genres": "Gêneros",
    "common.series": "Série",
    "common.episode": "Episódio",
    "common.season": "Temporada",
    "common.drop": "Queda",
    "common.latest": "Última",
    "table.empty": "Nenhum dado disponível.",
    "overview.hero.eyebrow": "Pipeline semanal - IMDb",
    "overview.hero.title": "Radar cinéfilo em escala global",
    "overview.hero.subtitle": "Rankings, tendências e estatísticas de filmes e séries com curadoria automática a cada semana.",
    "overview.hero.statLabel": "Melhor nota",
    "overview.hero.statFallbackTitle": "Título em destaque",
    "overview.hero.statMeta": "{votes} votos no IMDb",
    "overview.kpi.snapshot": "Snapshot",
    "overview.kpi.topTitles": "Top títulos",
    "overview.kpi.genres": "Gêneros",
    "overview.kpi.rising": "Títulos em alta",
    "overview.section.snapshot.title": "Snapshot rápido",
    "overview.section.snapshot.description": "KPIs essenciais para entender o pulso da base filtrada.",
    "overview.section.top10.title": "Top 10 por nota",
    "overview.section.top10.eyebrow": "Ranking",
    "overview.section.top10.caption": "Os líderes absolutos combinam nota alta e volume de votos consistente.",
    "overview.section.topGenres.title": "Gêneros com melhor nota",
    "overview.section.topGenres.caption": "A média ponderada revela quais estilos concentram notas mais altas.",
    "overview.section.popularity.title": "Popularidade por década",
    "overview.section.popularity.eyebrow": "Tendência",
    "overview.section.popularity.caption": "Os gêneros mais votados seguem dominando os ciclos de audiência.",
    "overview.section.rising.title": "Títulos em alta",
    "overview.section.rising.eyebrow": "Semana",
    "overview.table.plusVotes": "+ Votos",
    "overview.table.change": "Variação %",
    "chart.weightedRating": "Nota ponderada",
    "chart.avgRuntime": "Duração média",
    "chart.avgRating": "Nota média",
    "chart.rating": "Nota",
    "topTitles.hero.eyebrow": "Rankings",
    "topTitles.hero.title": "Top títulos do IMDb",
    "topTitles.hero.subtitle": "Os maiores destaques em filmes e séries, com filtros de votos para garantir consistência.",
    "topTitles.hero.statLabel": "Melhor pontuação",
    "topTitles.hero.statFallbackTitle": "Título em destaque",
    "topTitles.hero.statMeta": "{votes} votos",
    "topTitles.section.top10.title": "Top 10 absoluto",
    "topTitles.section.top10.description": "Os títulos que sustentam nota alta com muito volume de votos.",
    "topTitles.section.top10.cardTitle": "Ranking por nota",
    "topTitles.section.top10.cardEyebrow": "Todos os tempos",
    "topTitles.section.allTime.title": "Top títulos de todos os tempos",
    "topTitles.section.allTime.description": "Lista completa com os melhores filmes e séries elegíveis.",
    "topTitles.section.allTime.cardTitle": "Lista completa",
    "topTitles.section.allTime.cardEyebrow": "Filmes e séries",
    "topTitles.section.byDecade.title": "Top por década",
    "topTitles.section.byDecade.description": "O melhor de cada período, mostrando como o gosto muda ao longo do tempo.",
    "topTitles.section.byDecade.cardEyebrow": "Década",
    "topTitles.section.mainstream.title": "Mainstream vs Cult",
    "topTitles.section.mainstream.description": "Destaques com muitos votos versus joias com base menor, mas notas altas.",
    "topTitles.section.mainstream.mainTitle": "Joias mainstream",
    "topTitles.section.mainstream.mainEyebrow": "Muitos votos",
    "topTitles.section.mainstream.cultTitle": "Joias cult",
    "topTitles.section.mainstream.cultEyebrow": "Poucos votos",
    "genres.hero.eyebrow": "Gêneros",
    "genres.hero.title": "Mapa de estilos cinematográficos",
    "genres.hero.subtitle": "Notas ponderadas, popularidade histórica e a relação entre duração e nota por gênero.",
    "genres.hero.statLabel": "Gênero líder",
    "genres.hero.statFallbackTitle": "Gênero em destaque",
    "genres.hero.statMeta": "{votes} votos totais",
    "genres.section.weighted.title": "Nota ponderada por gênero",
    "genres.section.weighted.eyebrow": "Qualidade",
    "genres.section.weighted.caption": "Os gêneros com melhor combinação de nota e votos lideram o ranking.",
    "genres.section.popularity.title": "Popularidade por década",
    "genres.section.popularity.eyebrow": "Votos",
    "genres.section.popularity.caption": "Os gêneros mais votados se mantêm dominantes ao longo das décadas.",
    "genres.section.runtime.title": "Duração vs nota",
    "genres.section.runtime.eyebrow": "Estilo",
    "genres.section.runtime.description": "Quanto maior o círculo, maior o volume de títulos por gênero.",
    "genres.section.runtime.caption": "A relação entre duração média e nota mostra preferências por ritmo narrativo.",
    "genres.section.highlights.title": "Destaques rápidos",
    "genres.section.highlights.description": "Os gêneros que mais se destacam em nota, votos e volume de títulos.",
    "genres.section.highlights.eyebrow": "Destaque",
    "genres.highlights.weighted": "Nota ponderada",
    "genres.highlights.votes": "Votos totais",
    "genres.highlights.titles": "Títulos",
    "series.hero.eyebrow": "Séries e episódios",
    "series.hero.title": "O pulso das séries",
    "series.hero.subtitle": "Episódios mais bem avaliados, performance por temporada e quedas de qualidade.",
    "series.hero.statLabel": "Episódio top",
    "series.hero.statFallbackTitle": "Episódio em destaque",
    "series.hero.statFallbackSeries": "Série em destaque",
    "series.section.topEpisodes.title": "Top episódios",
    "series.section.topEpisodes.eyebrow": "Ranking",
    "series.section.topEpisodes.caption": "Os episódios mais votados e bem avaliados do catálogo.",
    "series.section.seasonRatings.title": "Notas por temporada",
    "series.section.seasonRatings.eyebrow": "Séries líderes",
    "series.section.seasonRatings.caption": "Siga a trajetória de qualidade das séries mais votadas.",
    "series.section.qualityDrop.title": "Séries com maior queda",
    "series.section.qualityDrop.description": "Comparação entre a primeira temporada e a mais recente.",
    "series.section.qualityDrop.cardTitle": "Queda de qualidade",
    "series.section.qualityDrop.cardEyebrow": "Comparativo",
    "series.section.topRated.title": "Episódios melhor avaliados",
    "series.section.topRated.description": "Lista completa para explorar episódios com nota alta e muitos votos.",
    "series.section.topRated.cardTitle": "Top episódios",
    "series.section.topRated.cardEyebrow": "Detalhe",
    "footer.note": "IMDb Analytics. Dados públicos agregados do IMDb."
  }
};

export const isLocale = (value: string | undefined): value is Locale =>
  value === "en" || value === "pt-BR";

export function createTranslator(locale: Locale) {
  return (key: string, vars?: Record<string, string | number>) => {
    const template = messages[locale][key] ?? messages[DEFAULT_LOCALE][key] ?? key;
    if (!vars) return template;
    return template.replace(/\{(\w+)\}/g, (_, token: string) => {
      const value = vars[token];
      return value === undefined ? `{${token}}` : String(value);
    });
  };
}

export function getMessage(locale: Locale, key: string) {
  return messages[locale][key] ?? messages[DEFAULT_LOCALE][key] ?? key;
}
